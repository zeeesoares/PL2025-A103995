PUSHI 0
PUSHI 0
START
PUSHS "Introduza uma string binária:"
WRITES
READ
STOREG 0
PUSHG 0
PUSHA BinToInt
CALL
STOREG 1
PUSHS "O valor inteiro correspondente é: "
WRITES
PUSHG 1
WRITEI
STOP

BinToInt:
PUSHFP
LOAD -1
PUSHI 0
PUSHI 0
PUSHI 0
PUSHI 0
STOREG 5
PUSHI 1
STOREG 6
PUSHG 3
STRLEN
STOREG 4
FOR0:
PUSHG 4
PUSHI 1
SUPEQ
JZ ENDFOR0
PUSHG 3
PUSHG 4
PUSHI 1
SUB
CHARAT
PUSHI 49
EQUAL
JZ ELSE1
PUSHG 5
PUSHG 6
ADD
STOREG 5
JUMP ENDIF1
ELSE1:
ENDIF1:
PUSHG 6
PUSHI 2
MUL
STOREG 6
PUSHG 4
PUSHI 1
SUB
STOREG 4
JUMP FOR0
ENDFOR0:
PUSHG 5
STOREG 2
POP 4
RETURN
